<!doctype html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Last BART from {{stop_name}}</title>
  <meta name="description" content="Last BART departures from {{stop_name}}">
  <meta name="author" content="Jacob Hoffman-Andrews">

  <meta name="viewport" content="width=device-width,initial-scale=1">

  <style>
    ul {
      list-style-type: none;
    }
    .service {
      display: none;
    }
    .service_selector {
      border: 1px dotted grey;
      text-align: left;
    }
    .visible {
      display: block;
    }
  </style>

  <noscript>
    <style>
      .service {
         display: block;
       }
    </style>
  </noscript>
  <script>
    {{>stop_js}}
  </script>
</head>

<body>
  Last train departs {{stop_name}} at:<br/>
  <br/>
  <!-- Note: we can do the buttons all grouped at the top, as here, but that
  makes the noscript version impossible to figure out. Would prefer to group
  headings by buttons.  But should probably have both - headings for noscript
  and buttons for clicking. -->
  <div>
    {{#service}}
    <span class="service_selector" data-service-id="{{service_id}}">{{service_id}}</span>
    {{/service}}
    {{#service}}
    <div class="service sid{{service_id}} {{#visible_days}}{{day}} {{/visible_days}}">
      {{#departure}}
      <ul>
        <li>{{friendly_time}} for {{headsign}}</li>
      </ul>
      {{/departure}}
    </div>
    {{/service}}
  </div>
  <div class="last-valid">
    Data retrieved from <a href="http://bart.gov/">bart.gov</a> on {{fetch_date}}, valid until
    {{last_valid_date}}. <a href="http://bart.gov/stations/{{shortest_stop_id}}/schedule.aspx">Official schedule</a>
  </div>
</body>
